[build-system]
requires = ["hatchling>=1.24"]
build-backend = "hatchling.build"

[project]
name = "imap-readonly-mcp"
version = "0.4.0"
description = "A Model Context Protocol server that exposes multi-protocol, read-only email data with simple read-only tooling."
readme = "README.md"
requires-python = ">=3.11"
license = { file = "LICENSE" }
authors = [{ name = "AI Generated by Codex" }]
keywords = ["mcp", "email", "imap", "pop3", "microsoft-graph", "read-only"]
classifiers = [
  "Development Status :: 3 - Alpha",
  "Intended Audience :: Developers",
  "License :: OSI Approved :: MIT License",
  "Programming Language :: Python",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Topic :: Communications :: Email :: Post-Office :: IMAP",
  "Topic :: Communications :: Email :: Post-Office :: POP3",
  "Topic :: Internet :: WWW/HTTP :: Indexing/Search",
]
dependencies = [
  "anyio>=4.3",
  "charset-normalizer>=3.3",
  "dateparser>=1.2",
  "mcp>=0.1.5",
  "pydantic>=2.8",
  "pydantic-settings>=2.4",
  "PyYAML>=6.0",
  "python-dateutil>=2.9",
  "rich>=13.7",
  "tenacity>=8.3",
  "tqdm>=4.66",
  "uvicorn>=0.30.0",
]

[project.optional-dependencies]
graph = [
  "msal>=1.28.0",
  "requests>=2.32.0",
]
google = [
  "google-api-python-client>=2.136.0",
  "google-auth>=2.29.0",
  "google-auth-oauthlib>=1.2.0",
]
dev = [
  "coverage[toml]>=7.6",
  "mypy>=1.10",
  "pytest>=8.2",
  "pytest-asyncio>=0.23",
  "ruff>=0.5",
  "types-PyYAML>=6.0.12.20240808",
  "types-dateparser>=1.2.0.20240820",
  "types-python-dateutil>=2.9.0.20240821",
]
all = [
  "msal>=1.28.0",
  "requests>=2.32.0",
  "google-api-python-client>=2.136.0",
  "google-auth>=2.29.0",
  "google-auth-oauthlib>=1.2.0",
]

[project.urls]
Homepage = "https://github.com/example/imap-readonly-mcp"
Repository = "https://github.com/example/imap-readonly-mcp"
Documentation = "https://github.com/example/imap-readonly-mcp#readme"
Issues = "https://github.com/example/imap-readonly-mcp/issues"

[project.scripts]
imap-readonly-mcp = "imap_readonly_mcp.server:main"

[tool.hatch.build.targets.wheel]
packages = ["src/imap_readonly_mcp"]

[tool.hatch.build.targets.sdist]
include = ["src", "README.md", "LICENSE", "pyproject.toml", "config", "docs", ".github/workflows"]

[tool.ruff]
line-length = 110
target-version = "py311"

[tool.ruff.lint]
select = [
  "B",
  "E",
  "F",
  "I",
  "UP",
  "RUF"
]
ignore = ["E203", "E501"]

[tool.ruff.lint.isort]
known-first-party = ["imap_readonly_mcp"]

[tool.pytest.ini_options]
pythonpath = ["src"]
addopts = "--strict-markers --disable-warnings"

[tool.coverage.run]
source = ["imap_readonly_mcp"]
branch = true

[tool.coverage.report]
show_missing = true

